---
import PageLayout from 'src/layouts/PageLayout.astro'
import { SITE_TITLE, SITE_DESCRIPTION, HOME_LINKS } from 'src/config'
import { getPinnedProjects } from 'src/lib/github'

const pinnedProjects = await getPinnedProjects(5)
---

<PageLayout title={SITE_TITLE} description={SITE_DESCRIPTION} class="space-y-5">
  <section>
    <h1>Hey there, I'm <span class="text-amber-200">Geek</span> ðŸ‘‹</h1>

    <p>
      A full-stack developer working mainly in frontend with experience building
      web-based video editor, ed-tech platforms, and more. I have a passion for
      creating innovative and user-friendly interfaces.
    </p>

    <p>
      Currently looking for full time opportunities, see my
      <a href="/resume">resume</a>.
    </p>
  </section>

  {
    pinnedProjects && (
      <section>
        <h2>Pinned Projects</h2>

        <ul class="space-y-4">
          {pinnedProjects.map((project) => (
            <li class="space-y-1">
              <div class="flex flex-col space-x-2 md:flex-row">
                <a
                  class="block font-medium text-white"
                  href={project.website || project.github_url}
                  target="_blank">
                  {project.name}
                </a>

                <div class="no-scrollbar flex items-center space-x-2 overflow-scroll whitespace-nowrap">
                  {project.topics.map((topic) => (
                    <div class="my-1 rounded-full bg-zinc-800 px-2 py-[1px] text-xs text-zinc-300">
                      {topic}
                    </div>
                  ))}
                </div>
              </div>
              <p class="mx-0.5 text-sm text-zinc-200">{project.description}</p>
            </li>
          ))}
        </ul>

        <p>
          Checkout more <a href="/projects">projects</a>,
          <a href="/blog">blogs</a>
          or find some new <a href="/resources">resources</a>.
        </p>
      </section>
    )
  }

  <section>
    <h2>Find me at:</h2>

    <ul>
      {
        HOME_LINKS.map((link) => (
          <li>
            <a href={link.href}>{link.label}</a>
          </li>
        ))
      }
    </ul>
  </section>
</PageLayout>
